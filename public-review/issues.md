Comment Log for VTL 1.1 Draft (October 2016)

|No.|Reference Document|Page/Line number|Problem/Issue|Suggested Solution|
|---|------------------|----------------|-------------|------------------|
|1 (LV)|User Manual|30|Statement: “The Set List refers  only to the Values contained in the list (e.g. the country codes),without the associated categories (e.g. the names  of  the  countries),” is not aligned with the syntax of Value domain subset (if they are the same object) because contains the description|Eliminate the description from the syntax or add it the text of the user manual|
|2 (LV)|User Manual|35|Different VTL artefacts are listed but not all of them are in the DDL part of the reference manual and neither are all used in operators: • Code List • N-Dimensional Value Domain • Set (is this the value domain subset?) • Set List • Code Item Relation • Code Item Relation Operand|Should we align the two documents adding them or removing as VTL artefacts or explain this difference between the two documents?|
|3 (LV)|User Manual|51 line 1748|The anonymous function is not mentioned anywhere in the reference manual|Should we include it  in the reference manual with examples?|
|4 (LV)|User Manual|Page 53 line 1840|Define procedure is not mentioned in the reference manual|Should we include it  in the reference manual with examples?|
|5 (LV)|User Manual|Page 60 Line 2096|The “is” operator is not mentioned in the reference manual|Should we include it  in the reference manual with examples?|
|6 (LV)|User Manual|Page 87|The general behaviour of operations on datasets is not aligned with the reference manual (see table page 13)|Should we align them?|
|7 (LV)|User Manual|Page 94 line  3162|The measure created by VTL in automated way is named result instead in the reference manual is called condition. In the line 2685 is also named another variable Value having maybe the same meaning.|Align them (result seems a more general name while condition seems more strict, I would be in favour of result, the only concern is that condition was kept for backwards compatibility)|
|8 (LV)|User Manual|Page 96 Line 3266|The attribute components paragraph mention the viral characteristic of an attribute but in the DefineDataStructure there is no way to define it.  Also in Join expression we can create attribute but there is no way to specify the virality of an attribute|Align the two documents|
|9 (LV)|User Manual|Page 98 line 3335|The default attribute calculation algorithm is not very clear|Provide more examples (should this be mentioned in the reference manual?)|
|10 (LV)|User Manual|Page 102 line 3474|The sentence: For   this   reason,   the   VTL   requires   that   at compilation time the Data Structures of the referenced Data Sets are available. Is not very clear to me|Clarify how VTL can manage this|
|11 (LV)|User Manual||The join expression is used also when there is no join and has a lot functionalities, the name is not so allined whith the potentiality of this operator|Find another name|
|12 (MC)||Attribute propagation|The approach based on the viral property of an attribute is interesting, however the propagation function described in VTL 1.0 is too specific (for example it is not applicable to Eurostat where in general we concatenate the flags in operations, rather than choosing one).|Reflect on a mechanism that can be enough generic.|
|13 (MC)||Error code and error message|Reflect on the introduction of an error message. The error code may be difficult to exchange between organizations. Use Severity or errorlevel (Could be a  task for the TF Validation?)|Add errormessage?  Choose between Severity or errorlevel  and if its datatype is string or number, then verify that these keywords and related datatypes are equal in both documents|
|14 (MC)||Check|Decision if the Check is able to apply more than one rulesets: datapoint(horizontal), hierarchical (vertical)|Verify that output structure of the check is compatible|
|15 (MC)||Filter|Decision if the Filter is able to apply more than one ruleset|Reflect on more than 1 ruleset Maybe: no problem. Row is kept in the result if all rules of all rulesets evaluate to true When errorlevel = warning the row is not kept in the result when the condition evaluates to false|
|16 (MC)||Aggregate|Decision if the Aggregate is able to apply more than one rulesets|Apply to more than 1 ruleset at the same time with other operators|
|17 (MC)||Rule Identifier|Decision on the structure of the Rule identifier|Include warning in the manual that the serial number can change over  subsequent versions of the ruleset.|
|18 (MC)||Value Domain|Decision on the Value Domain of the Rule Identifier|Include the ruleset name? Reflect on how to harmonise the output of the different types of check (horizontal rules vertical rules and single check) relative to the|
|19 (MC)||Datapoint/hierarchical|Decision on: • the name of the ruleset and  • the condition when..then or if…then • the signature of the datapoint ruleset|Confirm the actual situation or change something?|
|20 (MC)||Create or define object|Make a decision to adopt either create or define for the ruleset, mapping, function|Confirm the actual situation or change something?|
|21 (MC)||Numeric operators|Make a decision to adopt either the description provided in arithmetic operators or in mathematical_operators Name of the chapter: numeric operators? how to treat the missing values: Solution 1: eliminate ++ + does not create zeros for the missing data (more efficient to implement on any platform) a distinct operator (e.g. sum (a,b,c) ) is used to create the zeros Solution 2: + creates the zeros ** and // : maybe not necessary|Name: numeric, mathematical,  arithmetic To be checked with Luigi and Dragan|
|22 (MC)||Missing data|Approach described in the chapter missing data  To be integrated in the chapter on the core?|To be checked with Luigi and Dragan|
|23 (MC)||Vertical ruleset - conditions|Condition on other dimensions (other than time).  Condition on the rule dimension:|Provide example of needs. To be expressed as dim = XX in the when clause, where dim is the rule dimension. Small change in the manual|
|24 (MC)||Vertical ruleset: order of execution|Order of execution:  Order of definition Computed by VTL|Parameter to choose between 2 modes?|
|25 (MC)||Date vs time period|The functions working on time series should use the time information: Use date or time period The reference manual must be corrected||
|26 (MC)||Order of execution of statements|Order of execution of the statements in a VTL program: Order of definition Computed by VTL|See 23|
|27 (MC)||Description|Choose a uniform syntax description (e.g. avoid ds := ... and description of the type of object in the syntax). Verify that the uniform description is applied everywhere.|Partially done  To be done|
|28 (MC)||BNF form|Create the BNF form for all operators|Open|
|29 (MC)||VTL information model|Review and update the  information model for the VTL 1.1|Open|
|30 (MC)||Core language|Complete the core language Type system?|Open|
|31 (MC)||filter clause|Allow conditions involving more than 1 dataset. Example: ds1  filter  ds1.v = ds2.v|Open|
|32 (MC)||Merge component and dataset sections|Merge the component and dataset sections in a single section, for all operators and functions|Open|
|33 (MC)||Allow dataset with 0 dimensions|Allow datasets with 0 dimensions. Rationale: allow the aggregate functions to return a dataset in the case sum ( ds ). Also, this definition allow to define a uniform treatment for operands that can be scalar or dataset|Open|
|34 (MC)||FLWOR|The O (order by) in FLWOR is not consistent with the IM: in fact a set of data points cannot be ordered by definition Therefore the order by clause should be removed in FLWOR. The order by makes sense only to produce an external object e.g. a file or a window in a user interface|Open|
|35 (EG)||Map (Transcode) and Define mapping|MapTo and MapFrom should not be identifiers as it might be required to have duplicated values. Real examples would require two codes to be combined in a single one or vice-versa.  Example: Recoding ISIC4 codes at 2 digit level (Division) into level 1 (Section); Divisions 01-03 recodes into Section A, 05-09 into B, 10-33 into C, etc.. For splitting a code from into two or more in to additional information would be required in the condition, but attributes may provide such information and allow for splitting codes.|Open|
